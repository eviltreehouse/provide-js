/* @INFO
// [[ Provide.js ]] -- light-weight dependency injection for modular code bases.
// version 0.9.6
// Copyright (c) 2016 EvilTreeHouse.com
// http://eviltreehouse.com / http://github.com/eviltreehouse / @eviltreehouse
// This is free software. Use/modify to your heart's content :)
*/!function(_window,As){var readying=false;function $provide(needs,provides,f){if(arguments.length==1)return $provide.attach(arguments[0]);if(!$provide.modules)$provide.modules={};$provide.modules[provides]={'module':null,'needs':needs,'ready':false,'f':f};if($provide.isReady(provides)){$provide.ready();}}$provide.pkg=function(_pkg,base_path){if(!$provide.pkgs)$provide.pkgs={};if(_pkg=='main'||_pkg==null)_pkg='*';$provide.pkgs[_pkg]={'load_path':base_path};return $provide;};$provide.getPkg=function(req){if($provide.pkgs[req]){return $provide.pkgs[req];}else return null;};$provide.getScriptPath=function(_module){var path;if(_module.indexOf("/")==-1)path=$provide.pkgs['*'].load_path;else{var els=_module.split("/");var mod=els.pop();var pkgstr=els.join("/");if($provide.getPkg(pkgstr)){path=$provide.getPkg(pkgstr).load_path;_module=mod;}else{path=pkgstr;_module=mod;}}return[path,_module].join("/")+".js";};$provide.isReady=function(m){if(!$provide.modules[m])return false;if($provide.modules[m].needs.length==0)return true;var _ready=true;$provide.modules[m].needs.forEach(function(need){if(!_ready)return;if((!$provide.isReady(need))||(!$provide.modules[need].ready)){_ready=false;}});return _ready;};$provide.ready=function(rerun){if(readying&&(!rerun)){setTimeout(function(){$provide.ready();},50);return;}readying=true;var _updated=false;for(var mod in $provide.modules){if($provide.isReady(mod)&&$provide.modules[mod].ready==false){var deps=[];$provide.modules[mod].needs.forEach(function(dep){deps.push($provide.modules[dep].module);});$provide.modules[mod].module=$provide.modules[mod].f.apply(null,deps);if($provide.modules[mod].module){$provide.modules[mod].ready=true;_updated=true;}}}if(_updated){return $provide.ready(true);}else readying=false;};$provide.attach=function(modules){modules=typeof modules=='string'?[modules]:modules;for(var mi in modules){var module=modules[mi];var script=document.createElement('SCRIPT');script.setAttribute('src',$provide.getScriptPath(module));script.setAttribute('type','text/javascript');script.innerHTML="";script.addEventListener('load',function(e){$provide.ready();});document.body.appendChild(script);}};$provide.me=function(m){if(!$provide.modules[m]){throw new Error(m+" not available.");}else if(!$provide.modules[m].ready){throw new Error(m+" not available due to dependency issue.");}else{return $provide.modules[m].module;}};$provide.pkg(null,'/js');_window[As]=$provide;}(this,'$provide');
